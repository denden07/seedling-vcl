const scrollElement=document.getElementById("scroll-to-top-btn"),scrollTopBtn=document.getElementById("scroll-to-top"),mobileMenuBtn=document.getElementById("mobile-menu-btn"),mobileMenuDrawer=document.getElementById("mobile-menu");let lastKnownScrollPosition=window.pageYOffset||document.body.scrollTop;const mobileWindowWidthLimit=1023;let App={data:{formatDatePayload(date,format){let formatted="";if(date){let currentFormat=format||this.datetimeFormat,meridiem=moment(date,currentFormat).format("YYYY-MM-DD HH:mm");formatted=moment(meridiem,"YYYY-MM-DD HH:mm").utc().format("YYYY-MM-DD HH:mm")}return formatted},setNow(){return this.formatDatePayload(moment().format("YYYY-MM-DD HH:mm"),"YYYY-MM-DD HH:mm")},constructImage(file){let imageRegex=/\(gif|jpg|jpeg|tiff|png\)$/i,type=file.image.url.split(".");type=type[type.length-1].split("?")[0];let filename=file.image.url.split("/"),data;return filename=filename[filename.length-1],{id:file.id,name:filename,type:imageRegex.test(type)?`image/${type}`:`application/${type}`,url:file.image.url}},stringifyBoolean(data){let text="";return!0===data||"true"===data?text="Yes":!1!==data&&"false"!==data||(text="No"),text},capitalize:item=>item.split("_").map(s=>s.charAt(0).toUpperCase()+s.substring(1)).join(" "),convertToSnakeCase:name=>name?InsitesUtil.removeWhitespace(name).trim().replace(/[ -]/g,"_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase():"",convertToKebabCase(text){let kebab=text?text.trim().replace(/[ ]/g,"-").replace(/[_]/g,""):"";return InsitesUtil.removeWhitespace(kebab)},getFillerHeight(){let windowWidth=window.innerWidth,fillerContainer=document.getElementById("head-filler"),fillerHeight=0;return fillerHeight=windowWidth<=1023?fillerContainer.getElementsByClassName("mobile")[0].clientHeight:fillerContainer.getElementsByClassName("desktop")[0].clientHeight,fillerHeight}},validation:{validateForm(containerEl){for(let index=0;index<containerEl.querySelectorAll("[validate]").length;index++){let field=containerEl.querySelectorAll("[validate]")[index],type;switch(field.tagName.toLowerCase()){case"div":"list_checkbox"==field.getAttribute("data-ui")?this.validateChekbox(field):this.validateRadio(field);break;case"ins-input-file":this.validateFile(field);break;case"ins-input-tel":this.validateTel(field);break;case"ins-textarea":this.validateInput(field.querySelector("textarea"));break;case"ins-input":default:"email"===field.field?this.validateEmail(field):this.validateInput(field)}}return this.checkInvalidFields(containerEl)},checkRecaptcha(){let isValid=0!=grecaptcha.getResponse().length;return isValid?document.getElementById("recaptcha-v2-wrapper").classList.remove("error-recaptcha"):document.getElementById("recaptcha-v2-wrapper").classList.add("error-recaptcha"),isValid},checkInvalidFields:containerEl=>new Promise(resolve=>{setTimeout(()=>{resolve(!containerEl.querySelectorAll(".is-invalid").length)},200)}),validateTabs(tabEl){for(let i=0;i<tabEl.querySelectorAll("ins-tab-item").length;i++){let fields=tabEl.querySfieldelectorAll("ins-tab-item")[i];fields.hasError=!!fields.querySelectorAll(".is-invalid").length}return!tabEl.querySelectorAll(".is-invalid").length},async validateFile(field){(await field.getFilesList()).length<=0?field.setAttribute("has-error",!0):field.removeAttribute("has-error")},async validateTel(field){(await field.getValues()).phone_number.length<7?field.setAttribute("has-error",!0):field.removeAttribute("has-error")},validateRadio(wrapper){wrapper.querySelectorAll("ins-radio input:checked").length?wrapper.classList.remove("is-invalid"):wrapper.classList.add("is-invalid")},validateChekbox(wrapper){wrapper.querySelectorAll("ins-checkbox input:checked").length?wrapper.classList.remove("is-invalid"):wrapper.classList.add("is-invalid")},validateEmail(field){let isEmail=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return field.value&&!0===isEmail.test(String(field.value).toLowerCase())?(InsitesUtil.validFieldNotif(field),!0):(InsitesUtil.invalidFieldNotif(field),!1)},validateInput:async field=>(field=field.target?field.target:field).value?(InsitesUtil.validFieldNotif(field),!1):(InsitesUtil.invalidFieldNotif(field),!0)},events:{notyf(type,message){new Notyf({duration:3e3,position:{x:"right",y:"top"}})[type](message)},async swal(type="warning",title,message,label="OK",showCancel=!0,iconConfirm="icon-check-2"){let btnLabel=App.data.capitalize(label);return await new Promise(resolve=>{Swal.fire({html:`\n                        <ins-loader\n                            icon="icon-close-1"\n                            state-icon="${type}"\n                            icon-color="${type}"\n                            state-title="${title}"\n                            state-message="${message}">\n                        </ins-loader>`,showCancelButton:showCancel,customClass:{confirmButton:btnLabel.indexOf("Delete")>=0||btnLabel.indexOf("Archive")>=0||btnLabel.indexOf("Disable")>=0||btnLabel.indexOf("Remove")>=0?"negative":""},confirmButtonText:`${btnLabel}`,cancelButtonText:"Cancel"}).then(result=>{result.value?resolve(!0):resolve(!1)})})},initWindowOnScroll(){let vh=window.innerHeight+100;window.onscroll=()=>{window.pageYOffset>vh?scrollElement.classList.add("visible"):scrollElement.classList.remove("visible")}},toggleDrawerMenu(){let state=!mobileMenuDrawer.isOpen;mobileMenuDrawer.setDrawerState(state)},toggleMobileMenuBtnIcon(){let state,setIcon=mobileMenuDrawer.isOpen?"icon-close-1":"icon-menu-1";mobileMenuBtn.removeAttribute("class"),mobileMenuBtn.classList.add(setIcon)},checkScrollStatus(scrollPosition){let mainHeader=document.getElementById("main-header"),fillerGuide=App.data.getFillerHeight();mainHeader.style.transform=scrollPosition>fillerGuide?scrollPosition<=lastKnownScrollPosition?"translate3d(0px, 0px, 0px)":"translate3d(0px, -162px, 0px)":"translate3d(0px, 0px, 0px)",lastKnownScrollPosition=scrollPosition}},init:{initScrollToTopBtn(){scrollTopBtn&&(App.events.initWindowOnScroll(),scrollTopBtn.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))},initMobileMenu(){mobileMenuBtn&&mobileMenuDrawer&&(mobileMenuBtn.addEventListener("click",()=>{App.events.toggleDrawerMenu()}),mobileMenuDrawer.addEventListener("insToggle",()=>{App.events.toggleMobileMenuBtnIcon()}))},initScrollMenu(){let mainHeader=document.getElementById("main-header"),ticking=!1;mainHeader&&document.addEventListener("scroll",(function(e){ticking||(window.requestAnimationFrame((function(){App.events.checkScrollStatus(window.scrollY),ticking=!1})),ticking=!0)}))}}};window.App=App,setTimeout(()=>{App.init.initScrollToTopBtn(),App.init.initMobileMenu(),App.init.initScrollMenu()},200);